package advancedfunc

import "fmt"

func CaptureLoop() {
	f := make([]func(), 3)
	fmt.Println("ValueLoop")
	for i := 0; i < 3; i++ {
		f[i] = func() {
			fmt.Println(i)
		}
	}

	for i := 0; i < 3; i++ {
		f[i]()
	}
}

func CaptureLoop2() {
	f := make([]func(), 3)
	fmt.Println("ValueLoop2")
	for i := 0; i < 3; i++ {
		v := i

		f[i] = func() {
			fmt.Println(v)
		}
	}

	for i := 0; i < 3; i++ {
		f[i]()
	}
}

type OpFunc func(a, b int) int

func GetOp(op string) OpFunc {
	if op == "+" {
		return func(a, b int) int {
			return a + b
		}
	} else if op == "*" {
		return func(a, b int) int {
			return a * b
		}
	} else {
		return nil
	}
}

type Writer func(string)

func WriteHello(writer Writer) {
	writer("Hello World!")
}

func Sum(nums ...int) int {
	sum := 0

	fmt.Printf("nums 타입 : %T\n", nums)
	for _, v := range nums {
		sum += v
	}
	return sum
}
